{% for command in arguments %}
{{ command }}
{% endfor %}

FROM {{ OS_image }}:{{ OS_image_version }}

ENV DEBIAN_FRONTEND=noninteractive
{% for command in env_variables %}
{{ command }}
{% endfor %}

{% for command in users %}
{{ command }}
{% endfor %}

{% for command in expose_ports %}
{{ command }}
{% endfor %}


RUN apt-get update \
    && apt-get install -y --no-install-recommends \
        python3 \
        python3-pip \
    && rm -rf /var/lib/apt/lists/*

{% for package in packages_to_install %}
RUN pip3 install {{ package }}
{% endfor %}


RUN apt-get update \
    && apt-get install -y --no-install-recommends \
{% for package in apt_get_packages %}
        {{ package }} \
{% endfor %}
    && rm -rf /var/lib/apt/lists/*

{% for command in run_commands %}
{{ command }}
{% endfor %}

{% for command in cmd_commands %}
{{ command }}
{% endfor %}

{% for command in shell_commands %}
{{ command }}
{% endfor %}

{% for command in entrypoint_commands %}
{{ command }}
{% endfor %}